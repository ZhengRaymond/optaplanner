<?xml version="1.0" encoding="UTF-8"?>
<solver>
	<!-- Define the model -->
	<solutionClass>com.homerlogistics.optaplanner.TSPDeliver.domain.TSPSolution</solutionClass>
	<entityClass>com.homerlogistics.optaplanner.TSPDeliver.domain.Customer</entityClass>

	<!-- Define the score function -->
	<scoreDirectorFactory>
		<easyScoreCalculatorClass>com.homerlogistics.optaplanner.TSPDeliver.score.TSPScore</easyScoreCalculatorClass>
	</scoreDirectorFactory>

	<!-- Configure the optimization algorithms (optional) -->
  	<termination>
	 	 <secondsSpentLimit>10</secondsSpentLimit>
  	</termination>

	<constructionHeuristic>
		<constructionHeuristicType>FIRST_FIT</constructionHeuristicType>
	</constructionHeuristic>

	<localSearch>
		<unionMoveSelector>
			<changeMoveSelector/>
			<swapMoveSelector/>
			<subChainChangeMoveSelector>
				<selectReversingMoveToo>true</selectReversingMoveToo>
			</subChainChangeMoveSelector>
			<subChainSwapMoveSelector>
				<selectReversingMoveToo>true</selectReversingMoveToo>
			</subChainSwapMoveSelector>
			<tailChainSwapMoveSelector>
				<entitySelector id="entitySelector">
					<entityClass>com.homerlogistics.optaplanner.TSPDeliver.domain.Customer</entityClass>
				</entitySelector>
				<valueSelector>
					<nearbySelection>
						<originEntitySelector mimicSelectorRef="entitySelector"/>
						<nearbyDistanceMeterClass>com.homerlogistics.optaplanner.TSPDeliver.solver.distanceMeter</nearbyDistanceMeterClass>
						<nearbySelectionDistributionType>PARABOLIC_DISTRIBUTION</nearbySelectionDistributionType>
					</nearbySelection>
				</valueSelector>
			</tailChainSwapMoveSelector>
		</unionMoveSelector>
		<acceptor>
			<lateAcceptanceSize>200</lateAcceptanceSize>
		</acceptor>
		<forager>
			<acceptedCountLimit>1</acceptedCountLimit>
		</forager>
	</localSearch>

	<!--<localSearch>-->
		<!--<unionMoveSelector>-->
			<!--<changeMoveSelector/>-->
			<!--<swapMoveSelector/>-->
			<!--<subChainChangeMoveSelector>-->
				<!--<selectReversingMoveToo>true</selectReversingMoveToo>-->
			<!--</subChainChangeMoveSelector>-->
			<!--<subChainSwapMoveSelector>-->
				<!--<selectReversingMoveToo>true</selectReversingMoveToo>-->
			<!--</subChainSwapMoveSelector>-->
			<!--&lt;!&ndash;<tailChainSwapMoveSelector>&ndash;&gt;-->
				<!--&lt;!&ndash;<valueSelector>&ndash;&gt;-->
					<!--&lt;!&ndash;<nearbySelection>&ndash;&gt;-->
						<!--&lt;!&ndash;<originEntitySelector mimicSelectorRef="entitySelector"/>&ndash;&gt;-->
						<!--&lt;!&ndash;<nearbyDistanceMeterClass>com.homerlogistics.optaplanner.TSPDeliver.solver.distanceMeter</nearbyDistanceMeterClass>&ndash;&gt;-->
						<!--&lt;!&ndash;<nearbySelectionDistributionType>PARABOLIC_DISTRIBUTION</nearbySelectionDistributionType>&ndash;&gt;-->
					<!--&lt;!&ndash;</nearbySelection>&ndash;&gt;-->
				<!--&lt;!&ndash;</valueSelector>&ndash;&gt;-->
			<!--&lt;!&ndash;</tailChainSwapMoveSelector>&ndash;&gt;-->
		<!--</unionMoveSelector>-->
		<!--<acceptor>-->
			<!--<lateAcceptanceSize>400</lateAcceptanceSize>-->
		<!--</acceptor>-->

		<!--<forager>-->
			<!--<acceptedCountLimit>1</acceptedCountLimit>-->
		<!--</forager>-->
	<!--</localSearch>-->
</solver>
